{"version":3,"sources":["../../node_modules/antd/es/notification/style/index.js","../../common/helpers/auth.js","components/SignIn/sign-in.component.jsx","components/SignInMaster/sign-in-master.component.jsx"],"names":["getUserMeta","dispatch","a","storage","getStorage","get","ACCESS_TOKEN","getUserMetaAPI","meta","data","type","category","name","email","username","id","dp","userAuthenticated","delete","REFRESH_TOKEN","connect","state","user","userMeta","useDispatch","useState","signIn","setSignIn","useForm","form","tailLayout","wrapperCol","offset","span","onFinish","password","getJWTTokens","tokens","access","refresh","window","set","notification","error","message","resetFields","className","labelCol","hideRequiredMark","initialValues","remember","onFinishFailed","errorInfo","Item","label","rules","required","Password","valuePropName","htmlType","size","onClick","SignInMaster","src","alt","style","zIndex","position","width","height","backgroundPosition","backgroundSize","md","sm","right","top","opacity","to"],"mappings":"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","file":"static/js/41.f2b3aa0d.chunk.js","sourcesContent":["import '../../style/index.less';\nimport './index.less';","import {userAuthenticated} from '../actions/signIn';\nimport {ACCESS_TOKEN, REFRESH_TOKEN} from '../constants/storage';\n\nimport {getStorage} from './shared';\n\nimport {getUserMeta as getUserMetaAPI} from '../api/auth';\n\nexport const getUserMeta = async (dispatch) => {\n  const storage = getStorage();\n  if (!(await storage.get(ACCESS_TOKEN, null))) return false;\n\n  try {\n    const {data: meta} = await getUserMetaAPI();\n\n    if (meta) {\n      const {category: type, name, email, username, id, dp} = meta;\n      dispatch(userAuthenticated({name, type, email, username, id, dp}));\n      return false;\n    }\n\n    await storage.delete(ACCESS_TOKEN);\n    await storage.delete(REFRESH_TOKEN);\n  } catch (e) {\n    // ignore error\n  }\n\n  return true;\n};\n","import React, {useState} from 'react';\nimport {Form, Button, Input, Checkbox, notification} from 'antd';\nimport {ACCESS_TOKEN, REFRESH_TOKEN} from 'common/constants/storage';\nimport {getJWTTokens} from 'common/api/auth';\nimport {getUserMeta} from 'common/helpers/auth';\nimport {useDispatch} from 'react-redux';\nimport {connect} from 'react-redux';\n\nimport './sign-in.styles.scss';\n\nconst SignIn = ({user}) => {\n  const dispatch = useDispatch();\n  const [signIn, setSignIn] = useState(false);\n\n  const [form] = Form.useForm();\n\n  const layout = {\n    labelCol: {\n      span: 8,\n    },\n    wrapperCol: {\n      span: 8,\n    },\n  };\n  const tailLayout = {\n    wrapperCol: {\n      offset: 9,\n      span: 14,\n    },\n  };\n\n  const onFinish = async ({username, password}) => {\n    try {\n      // setLoading(true);\n      const {data: tokens} = await getJWTTokens({username, password});\n\n      const {access, refresh} = tokens;\n      await window.storage.set(ACCESS_TOKEN, access);\n      await window.storage.set(REFRESH_TOKEN, refresh);\n\n      console.log(access);\n      await getUserMeta(dispatch);\n    } catch (e) {\n      notification.error({\n        message: `Can't Sign In user: ${username} - Invalid Credentials.`,\n      });\n    }\n    form.resetFields();\n  };\n\n  const onFinishFailed = (errorInfo) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  const onSignIn = () => {\n    setSignIn(true);\n  };\n\n  if (signIn) {\n    return (\n      <div className=\"sign-in\">\n        <Form\n          form={form}\n          {...layout}\n          name=\"basic\"\n          hideRequiredMark\n          initialValues={{\n            remember: true,\n          }}\n          onFinish={onFinish}\n          onFinishFailed={onFinishFailed}>\n          <Form.Item\n            label=\"Username\"\n            name=\"username\"\n            rules={[\n              {\n                required: true,\n                message: 'Please input your username!',\n              },\n            ]}>\n            <Input />\n          </Form.Item>\n\n          <Form.Item\n            label=\"Password\"\n            name=\"password\"\n            rules={[\n              {\n                required: true,\n                message: 'Please input your password!',\n              },\n            ]}>\n            <Input.Password />\n          </Form.Item>\n\n          <Form.Item {...tailLayout} name=\"remember\" valuePropName=\"checked\">\n            <Checkbox>Remember me</Checkbox>\n          </Form.Item>\n\n          <Form.Item {...tailLayout}>\n            <Button type=\"primary\" htmlType=\"submit\">\n              Submit\n            </Button>\n          </Form.Item>\n        </Form>\n      </div>\n    );\n  }\n  return (\n    <div className=\"intro\">\n      <h1>Welcome to Yantra Packs</h1>\n      <br />\n      <div className=\"content\">\n        Yantra Packs provide sustainable material handling equipment solutions to Auto,\n        FMCG,Chemical and Industrial/ Manufacturing companies to help them store and distribute\n        goods efficiently, helping them to boost profitability and increase efficiency.\n      </div>\n      <br /> <br />\n      <Button size=\"large\" type=\"primary\" onClick={() => onSignIn()}>\n        Sign In\n      </Button>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {user: state.user.userMeta};\n};\n\nexport default connect(mapStateToProps)(SignIn);\n","import React from 'react';\nimport 'antd/dist/antd.css';\nimport { Row, Col, Button } from 'antd';\nimport { Link } from '@reach/router';\nimport SignIn from '../SignIn/sign-in.component';\n\nimport './sign-in-master.styles.scss';\n\nconst SignInMaster = () => (\n  <div className='signInMaster'>\n    <div className='logo'>\n      <img src='home-logo.png' alt='logoimg' style={{ zIndex: '5' }} />\n    </div>\n    <img\n      src='back3.jpg'\n      alt='img'\n      style={{\n        position: 'absolute',\n        width: '100vw',\n        height: '100vh',\n        backgroundPosition: 'center',\n        backgroundSize: 'cover',\n      }}\n    />\n    <br />\n    <br />\n    <Row>\n      <Col md={10} sm={24}>\n        <SignIn />\n      </Col>\n      <Col md={14}>\n        <Button\n          type='primary'\n          style={{\n            position: 'absolute',\n            right: '190px',\n            top: '160px',\n            width: '10px',\n            height: '90px',\n            opacity: '0',\n          }}>\n          <Link to='/sign-up/client' />\n        </Button>\n        <Button\n          type='primary'\n          style={{\n            position: 'absolute',\n            right: '150px',\n            top: '160px',\n            width: '10px',\n            height: '90px',\n            opacity: '0',\n          }}>\n          <Link to='/sign-up/employee' />\n        </Button>\n      </Col>\n    </Row>\n  </div>\n);\n\nexport default SignInMaster;\n"],"sourceRoot":""}